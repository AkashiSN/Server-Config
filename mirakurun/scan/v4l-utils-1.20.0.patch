diff -uprN v4l-utils-1.20.0/lib/libdvbv5/dvb-fe.c v4l-utils-1.20.0-new/lib/libdvbv5/dvb-fe.c
--- v4l-utils-1.20.0/lib/libdvbv5/dvb-fe.c	2020-11-29 18:40:43.149443000 +0900
+++ v4l-utils-1.20.0-new/lib/libdvbv5/dvb-fe.c	2020-11-29 18:38:57.249443000 +0900
@@ -801,7 +801,10 @@ int __dvb_fe_get_parms(struct dvb_v5_fe_
 		break;
 	case SYS_ATSC:
 	case SYS_ATSCMH:
+		dvb_fe_store_parm(&parms->p, DTV_MODULATION, v3_parms.u.vsb.modulation);
+		break;
 	case SYS_DVBC_ANNEX_B:
+		dvb_fe_store_parm(&parms->p, DTV_SYMBOL_RATE, v3_parms.u.qam.symbol_rate);
 		dvb_fe_store_parm(&parms->p, DTV_MODULATION, v3_parms.u.vsb.modulation);
 		break;
 	case SYS_DVBT:
@@ -830,6 +833,24 @@ static void dvb_setup_delsys_default(str
 	uint32_t cc;
 
 	switch (p->current_sys) {
+	case SYS_DVBC_ANNEX_A:
+	case SYS_DVBC_ANNEX_B:
+	case SYS_DVBC_ANNEX_C:
+	case SYS_DVBS2:
+		cc = COUNTRY_UNKNOWN;
+		dvb_fe_retrieve_parm(p, DTV_COUNTRY_CODE, &cc);
+		if (cc == COUNTRY_UNKNOWN && parms->country != COUNTRY_UNKNOWN) {
+			cc = parms->country;
+			dvb_fe_store_parm(p, DTV_COUNTRY_CODE, cc);
+		}
+		switch (cc) {
+		case JP:
+			p->default_charset = "arib-std-b24";
+			break;
+		default:
+			break;
+		}
+		break;
 	case SYS_ISDBT:
 		/* Set country code. */
 		/* if the default country is not known, fallback to BR */
@@ -951,7 +972,10 @@ int __dvb_fe_set_parms(struct dvb_v5_fe_
 		break;
 	case SYS_ATSC:
 	case SYS_ATSCMH:
+		dvb_fe_retrieve_parm(&tmp_parms.p, DTV_MODULATION, &v3_parms.u.vsb.modulation);
+		break;
 	case SYS_DVBC_ANNEX_B:
+		dvb_fe_retrieve_parm(&tmp_parms.p, DTV_SYMBOL_RATE, &v3_parms.u.qam.symbol_rate);
 		dvb_fe_retrieve_parm(&tmp_parms.p, DTV_MODULATION, &v3_parms.u.vsb.modulation);
 		break;
 	case SYS_DVBT:
@@ -1577,7 +1601,10 @@ int dvb_fe_get_event(struct dvb_v5_fe_pa
 		break;
 	case SYS_ATSC:
 	case SYS_ATSCMH:
+		dvb_fe_retrieve_parm(&parms->p, DTV_MODULATION, &event.parameters.u.vsb.modulation);
+		break;
 	case SYS_DVBC_ANNEX_B:
+		dvb_fe_retrieve_parm(&parms->p, DTV_SYMBOL_RATE, &event.parameters.u.qam.symbol_rate);
 		dvb_fe_retrieve_parm(&parms->p, DTV_MODULATION, &event.parameters.u.vsb.modulation);
 		break;
 	case SYS_DVBT:
diff -uprN v4l-utils-1.20.0/lib/libdvbv5/dvb-scan.c v4l-utils-1.20.0-new/lib/libdvbv5/dvb-scan.c
--- v4l-utils-1.20.0/lib/libdvbv5/dvb-scan.c	2020-11-29 18:40:43.149443000 +0900
+++ v4l-utils-1.20.0-new/lib/libdvbv5/dvb-scan.c	2020-11-29 18:39:43.739443000 +0900
@@ -1159,6 +1159,8 @@ static void add_update_nit_isdbs(struct
 			     dvbs_polarization[d->polarization]);
 	dvb_store_entry_prop(new, DTV_SYMBOL_RATE,
 			     d->symbol_rate);
+	dvb_store_entry_prop(new, DTV_STREAM_ID,
+			     ts_id);
 }
 
 
@@ -1184,6 +1186,7 @@ static void __dvb_add_update_transponder
 
 	switch (parms->p.current_sys) {
 	case SYS_DVBC_ANNEX_A:
+	case SYS_DVBC_ANNEX_B:
 	case SYS_DVBC_ANNEX_C:
 		dvb_table_nit_descriptor_handler(
 				&parms->p, dvb_scan_handler->nit,
diff -uprN v4l-utils-1.20.0/lib/libdvbv5/dvb-v5-std.c v4l-utils-1.20.0-new/lib/libdvbv5/dvb-v5-std.c
--- v4l-utils-1.20.0/lib/libdvbv5/dvb-v5-std.c	2020-11-29 18:40:43.149443000 +0900
+++ v4l-utils-1.20.0-new/lib/libdvbv5/dvb-v5-std.c	2020-11-29 18:40:07.649443000 +0900
@@ -117,6 +117,7 @@ const unsigned int sys_dvbc_annex_ac_pro
 const unsigned int sys_dvbc_annex_b_props[] = {
 	DTV_FREQUENCY,
 	DTV_MODULATION,
+	DTV_SYMBOL_RATE,
 	0
 };
 
